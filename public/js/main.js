(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,n){e.exports=n(386)},159:function(e,t,n){},161:function(e,t,n){},182:function(e,t,n){},381:function(e,t,n){},383:function(e,t,n){},386:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),c=n(63),o=n.n(c);n(159),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(388),i=n(389),s=n(12),u=n(13),m=n(15),h=n(14),p=n(16),d=(n(161),n(30)),E=n.n(d),g=(n(182),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("h1",null,"Been There"),l.a.createElement("nav",{className:"main-nav"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",{className:"yellow-bg"},"About")),l.a.createElement("li",null,l.a.createElement("span",{className:"yellow-bg"},"Account")),l.a.createElement("li",null,l.a.createElement("span",{className:"yellow-bg",onClick:this.props.onClick},"Sign Out")))))}}]),t}(a.Component)),f=n(38),b=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={currentLatLng:{lat:-33.870937,lng:151.204588}},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleMapClick",value:function(e){var t=e.latLng.lat(),n=e.latLng.lng();console.log(t,n)}},{key:"render",value:function(){var e=this,t=Object(f.withScriptjs)(Object(f.withGoogleMap)(function(t){return l.a.createElement(f.GoogleMap,{center:{lat:e.state.currentLatLng.lat,lng:e.state.currentLatLng.lng},defaultZoom:2.5,onClick:e.handleMapClick},e.props.pins.map(function(t){return l.a.createElement(f.Marker,{position:{lat:t.lat,lng:t.lng},key:"".concat(t.name),onClick:function(){return e.props.onClick(t.city,t.name)}},l.a.createElement(f.InfoWindow,null,l.a.createElement("div",null,t.name)))}))}));return l.a.createElement("div",{className:"map"},l.a.createElement(t,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyB7SLqsEtoex-htI--MdJqOM_JJRai-A9g","&libraries=geometry,drawing,places"),loadingElement:l.a.createElement("div",{style:{height:"100%"}}),containerElement:l.a.createElement("div",{style:{height:"90vh",width:"100vw"}}),mapElement:l.a.createElement("div",{style:{height:"100%"}})}))}}]),t}(a.Component),v=(n(381),function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"instructions"},l.a.createElement("h2",null,"Instructions"),l.a.createElement("p",null,l.a.createElement("span",{className:"instructions-bold"},"Click on a marker")," to see more information about the place."),l.a.createElement("p",null,l.a.createElement("span",{className:"instructions-bold"},"Double click a spot on the map")," to add it to your map."))}}]),t}(a.Component)),k=function(e){function t(e){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.pin,t=e.name,n=e.description,a=e.category;e.images;return l.a.createElement("div",null,l.a.createElement("h2",null,t),l.a.createElement("h3",null,a),l.a.createElement("img",{src:"http://www.fillmurray.com/300/200"}),l.a.createElement("p",null,n))}}]),t}(a.Component),w=(n(383),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={showSideBar:!0},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){console.log("clicked")}},{key:"render",value:function(){return l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"sidebar-header"},l.a.createElement("i",{className:"material-icons"},"pin_drop"),l.a.createElement("button",{onClick:this.handleClick,className:"open-close"},l.a.createElement("i",{className:"material-icons"},"close"))),this.props.showInstructions&&l.a.createElement(v,null),this.props.showPinDetail&&l.a.createElement(k,{pin:this.props.pin}),l.a.createElement("div",{className:"sidebar-footer"},l.a.createElement("h3",null,"Filter"),l.a.createElement("form",null,l.a.createElement("h3",null,"Search"),l.a.createElement("input",{type:"text",placeholder:"e.g. Sydney"}))))}}]),t}(a.Component)),y="http://localhost:3000/user",O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={pins:[],selectedPin:{},showInstructions:!0,showPinDetail:!1},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){if("localStorage"in window){var e=localStorage.getItem("authToken");e?E.a.defaults.headers.common.Authorization="Bearer ".concat(e):this.props.history.push("/login"),this.fetchPins()}}},{key:"fetchPins",value:function(){var e=this;E.a.get("".concat(y,"/beenthere")).then(function(t){e.setState({pins:t.data})}).catch(console.warn)}},{key:"handleSignOut",value:function(){localStorage.removeItem("authToken"),this.props.history.push("/login")}},{key:"handleMarkerClick",value:function(e,t){var n=this;console.log("clicked",e,t),E.a.get("".concat(y,"/pin/").concat(e,"/").concat(t)).then(function(e){console.log("PIN:",e),n.setState({selectedPin:e.data,showInstructions:!1,showPinDetail:!0})}).catch(console.warn)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"App"},l.a.createElement(g,{onClick:function(){return e.handleSignOut()}}),l.a.createElement("div",{className:"main-container"},l.a.createElement(w,{pin:this.state.selectedPin,showInstructions:this.state.showInstructions,showPinDetail:this.state.showPinDetail}),l.a.createElement(b,{pins:this.state.pins,onClick:function(t,n){return e.handleMarkerClick(t,n)}})))}}]),t}(a.Component),j=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(m.a)(this,Object(h.a)(t).call(this))).state={emailInput:"",passwordInput:"",error:""},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"handleEmailChange",value:function(e){this.setState({emailInput:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({passwordInput:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),E.a.post("http://localhost:3000/user/signin",{email:this.state.emailInput,password:this.state.passwordInput}).then(function(e){console.log("RESPONSE: ",e.data.token),E.a.defaults.headers.common.Authorization="Bearer ".concat(e.data.token),"localStorage"in window&&localStorage.setItem("authToken",e.data.token),t.props.history.push("/")}).catch(function(e){console.dir(e.response.data.message),t.setState({error:e.response.data.message})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("h2",null,"Login"),l.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},"Email: ",l.a.createElement("input",{type:"text",onChange:function(t){return e.handleEmailChange(t)}}),l.a.createElement("br",null),"Password: ",l.a.createElement("input",{type:"password",onChange:function(t){return e.handlePasswordChange(t)}}),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Login"}),l.a.createElement("br",null)))}}]),t}(a.Component),C=l.a.createElement(r.a,null,l.a.createElement("div",null,l.a.createElement(i.a,{exact:!0,path:"/",component:O}),l.a.createElement(i.a,{exact:!0,path:"/login",component:j})));o.a.render(C,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[154,2,1]]]);
//# sourceMappingURL=main.88b40506.chunk.js.map